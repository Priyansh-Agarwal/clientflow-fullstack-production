{
  "name": "Booking Automation",
  "type": "booking",
  "description": "Automatically handles appointment booking requests and confirmations",
  "version": "1.0.0",
  "schema": {
    "type": "object",
    "properties": {
      "enabled": {
        "type": "boolean",
        "default": true,
        "description": "Enable this automation"
      },
      "triggers": {
        "type": "object",
        "properties": {
          "sms_keywords": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": ["book", "schedule", "appointment", "meeting"],
            "description": "SMS keywords that trigger booking flow"
          },
          "email_subjects": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": ["book appointment", "schedule meeting", "new booking"],
            "description": "Email subject patterns that trigger booking flow"
          }
        },
        "required": ["sms_keywords", "email_subjects"]
      },
      "actions": {
        "type": "object",
        "properties": {
          "auto_confirm": {
            "type": "boolean",
            "default": false,
            "description": "Automatically confirm appointments without human review"
          },
          "send_confirmation": {
            "type": "boolean",
            "default": true,
            "description": "Send confirmation message after booking"
          },
          "confirmation_template": {
            "type": "string",
            "default": "Your appointment has been booked for {date} at {time}. We'll send a reminder 24 hours before.",
            "description": "Confirmation message template"
          },
          "require_phone_verification": {
            "type": "boolean",
            "default": true,
            "description": "Require phone number verification before booking"
          },
          "buffer_time_minutes": {
            "type": "number",
            "default": 15,
            "minimum": 0,
            "maximum": 120,
            "description": "Buffer time between appointments in minutes"
          }
        },
        "required": ["auto_confirm", "send_confirmation", "confirmation_template"]
      },
      "scheduling": {
        "type": "object",
        "properties": {
          "business_hours": {
            "type": "object",
            "properties": {
              "start": {
                "type": "string",
                "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                "default": "09:00",
                "description": "Business hours start time (HH:MM)"
              },
              "end": {
                "type": "string",
                "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
                "default": "17:00",
                "description": "Business hours end time (HH:MM)"
              },
              "timezone": {
                "type": "string",
                "default": "America/New_York",
                "description": "Business timezone"
              }
            },
            "required": ["start", "end", "timezone"]
          },
          "working_days": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 0,
              "maximum": 6
            },
            "default": [1, 2, 3, 4, 5],
            "description": "Working days (0=Sunday, 1=Monday, etc.)"
          },
          "advance_booking_days": {
            "type": "integer",
            "default": 30,
            "minimum": 1,
            "maximum": 365,
            "description": "Maximum days in advance for booking"
          }
        },
        "required": ["business_hours", "working_days", "advance_booking_days"]
      },
      "notifications": {
        "type": "object",
        "properties": {
          "reminder_hours": {
            "type": "array",
            "items": {
              "type": "integer",
              "minimum": 1,
              "maximum": 168
            },
            "default": [24, 2],
            "description": "Hours before appointment to send reminders"
          },
          "reminder_channels": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": ["sms", "email", "both"]
            },
            "default": ["both"],
            "description": "Channels for sending reminders"
          }
        },
        "required": ["reminder_hours", "reminder_channels"]
      }
    },
    "required": ["enabled", "triggers", "actions", "scheduling", "notifications"]
  },
  "defaultConfig": {
    "enabled": true,
    "triggers": {
      "sms_keywords": ["book", "schedule", "appointment", "meeting"],
      "email_subjects": ["book appointment", "schedule meeting", "new booking"]
    },
    "actions": {
      "auto_confirm": false,
      "send_confirmation": true,
      "confirmation_template": "Your appointment has been booked for {date} at {time}. We'll send a reminder 24 hours before.",
      "require_phone_verification": true,
      "buffer_time_minutes": 15
    },
    "scheduling": {
      "business_hours": {
        "start": "09:00",
        "end": "17:00",
        "timezone": "America/New_York"
      },
      "working_days": [1, 2, 3, 4, 5],
      "advance_booking_days": 30
    },
    "notifications": {
      "reminder_hours": [24, 2],
      "reminder_channels": ["both"]
    }
  }
}
